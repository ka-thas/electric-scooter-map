<!DOCTYPE html>
<html lang="no">
    <head>
        <title>Skriftlig eksamen</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="stylesheet2.css" />
        <link rel="icon" href="icon.png" />
        <style>
            body {
                text-align: center;
            }
        </style>
    </head>
    <body>
        <div id="innpakning">
            <img src="./Vedlegg/kartutsnitt.png" width="900" height="525" />
            <img
                class="icon"
                src="./Vedlegg/ikon.png"
                height="50px"
                width="50px"
            />
            <img
                class="icon"
                src="./Vedlegg/ikon.png"
                height="50px"
                width="50px"
            />
            <img
                class="icon"
                src="./Vedlegg/ikon.png"
                height="50px"
                width="50px"
            />
        </div>
        <script>
            // definerer variabler
            let innpakningEl = document.querySelector("#innpakning");
            let iconEl = document.querySelectorAll(".icon");
            let batteriEl = [];
            let nivaaEl = [];
            let alleSparkesykler = [];

            // oppretter batterirelaterte elementer
            for (let i = 0; i < iconEl.length; i++) {
                let batteri = document.createElement("div");
                batteri.classList.add("batteri");
                let nivaa = document.createElement("div");
                nivaa.classList.add("batterinivå");
                batteri.appendChild(nivaa);
                innpakningEl.appendChild(batteri);
                nivaaEl.push(nivaa);
                batteriEl.push(batteri);
            }
            let batterinivåEl = document.querySelectorAll(".batterinivå");

            // Samler elementer og relatert data til hver enkelt sparkesykkel i en array med objekter
            for (let i = 0; i < iconEl.length; i++) {
                let enSykkel = {};
                enSykkel.ikon = iconEl[i];
                enSykkel.batteriPlass = batteriEl[i];
                enSykkel.batteriIndikator = nivaaEl[i];
                alleSparkesykler.push(enSykkel);
            }
            alleSparkesykler[0].batteriNivå = 20;
            alleSparkesykler[0].xPlass = 150;
            alleSparkesykler[0].yPlass = 200;
            alleSparkesykler[1].batteriNivå = 45;
            alleSparkesykler[1].xPlass = 500;
            alleSparkesykler[1].yPlass = 400;
            alleSparkesykler[2].batteriNivå = 75;
            alleSparkesykler[2].xPlass = 700;
            alleSparkesykler[2].yPlass = 200;

            // tilegner hendelseslyttere og plasseringer
            for (let i = 0; i < alleSparkesykler.length; i++) {
                alleSparkesykler[i].ikon.addEventListener(
                    "mouseover",
                    function () {
                        visNivaa(i);
                    }
                );
                alleSparkesykler[i].ikon.addEventListener(
                    "mouseout",
                    function () {
                        fjernNivaa(i);
                    }
                );
                alleSparkesykler[i].batteriPlass.addEventListener(
                    "mouseover",
                    function () {
                        visNivaa(i);
                    }
                );
                alleSparkesykler[i].ikon.style.left =
                    alleSparkesykler[i].xPlass + "px";
                alleSparkesykler[i].ikon.style.top =
                    alleSparkesykler[i].yPlass + "px";
                alleSparkesykler[i].batteriPlass.style.left =
                    alleSparkesykler[i].xPlass + 6 + "px";
                alleSparkesykler[i].batteriPlass.style.top =
                    alleSparkesykler[i].yPlass + 20 + "px";
            }

            function visNivaa(i) {
                alleSparkesykler[i].batteriIndikator.style.width =
                    alleSparkesykler[i].batteriNivå + "%";
                alleSparkesykler[i].batteriPlass.style.opacity = 1;
            }
            function fjernNivaa(i) {
                alleSparkesykler[i].batteriIndikator.style.width = "0%";
                alleSparkesykler[i].batteriPlass.style.opacity = 0;
            }
        </script>
    </body>
</html>
